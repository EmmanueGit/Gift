<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Wordle Journey</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', 'Times New Roman', serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8f5f2 0%, #f0e8e0 50%, #e8d5cc 100%);
            color: #7d6658;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Floating flowers animation */
        .floating-flowers {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .floating-flower {
            position: absolute;
            color: rgba(255, 255, 255, 0.4);
            font-size: 20px;
            animation: float 14s infinite linear;
            user-select: none;
            filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.3));
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .container {
            width: 100%;
            max-width: 600px;
            background: rgba(252, 250, 248, 0.95);
            border-radius: 25px;
            box-shadow: 0 20px 50px rgba(125, 102, 88, 0.3);
            overflow: hidden;
            padding: 40px;
            position: relative;
            transform: translateY(0);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(232, 213, 204, 0.5);
        }
        
        .container:hover {
            transform: translateY(-3px);
            box-shadow: 0 25px 60px rgba(125, 102, 88, 0.35);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(45deg, #c4a484, #b8956f, #d4b896);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            font-weight: bold;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #7d6658;
            margin-bottom: 25px;
            font-style: italic;
            opacity: 0.9;
        }
        
        .decorative-elements {
            font-size: 2.5rem;
            margin: 20px 0;
            letter-spacing: 12px;
            color: #d4b896;
            animation: pulse 3s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .login-game {
            background: rgba(248, 245, 242, 0.8);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            backdrop-filter: blur(5px);
            border: 2px solid rgba(196, 164, 132, 0.2);
            text-align: center;
        }
        
        .wordle-game {
            background: rgba(248, 245, 242, 0.8);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            backdrop-filter: blur(5px);
            border: 2px solid rgba(196, 164, 132, 0.2);
        }
        
        .instructions {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.7;
            color: #7d6658;
            font-weight: 500;
        }
        
        .wordle-grid {
            display: grid;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
        }
        
        .grid-5 {
            grid-template-columns: repeat(5, 1fr);
        }
        
        .grid-7 {
            grid-template-columns: repeat(7, 1fr);
        }
        
        .letter-box {
            width: 50px;
            height: 50px;
            border: 3px solid #e8d5cc;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(145deg, #fcfaf8, #f0e8e0);
            text-transform: uppercase;
            color: #7d6658;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .letter-box.filled {
            transform: scale(1.05);
            border-color: #c4a484;
            box-shadow: 0 3px 15px rgba(196, 164, 132, 0.3);
        }
        
        .correct {
            background: linear-gradient(145deg, #c4a484, #b8956f) !important;
            color: white !important;
            border-color: #c4a484 !important;
            transform: scale(1.1);
            animation: correctBounce 0.6s ease;
        }
        
        .present {
            background: linear-gradient(145deg, #d4b896, #e8c7a6) !important;
            color: white !important;
            border-color: #d4b896 !important;
            transform: scale(1.05);
            animation: presentShake 0.6s ease;
        }
        
        .absent {
            background: linear-gradient(145deg, #b8956f, #a68660) !important;
            color: white !important;
            border-color: #a68660 !important;
            opacity: 0.7;
            animation: absentSlide 0.6s ease;
        }
        
        @keyframes correctBounce {
            0%, 100% { transform: scale(1.1); }
            50% { transform: scale(1.2) rotate(3deg); }
        }
        
        @keyframes presentShake {
            0%, 100% { transform: scale(1.05) translateX(0); }
            25% { transform: scale(1.05) translateX(-3px); }
            75% { transform: scale(1.05) translateX(3px); }
        }
        
        @keyframes absentSlide {
            0% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
            100% { transform: translateY(0); }
        }
        
        .input-area {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
            justify-content: center;
            align-items: center;
        }
        
        .current-guess {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            justify-content: center;
            min-height: 60px;
            align-items: center;
        }
        
        .guess-box {
            width: 50px;
            height: 50px;
            border: 3px solid #e8d5cc;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(145deg, #fcfaf8, #f0e8e0);
            text-transform: uppercase;
            color: #7d6658;
            transition: all 0.3s ease;
        }
        
        .guess-box.filled {
            border-color: #c4a484;
            transform: scale(1.05);
            box-shadow: 0 3px 15px rgba(196, 164, 132, 0.3);
        }
        
        button {
            padding: 16px 30px;
            background: linear-gradient(145deg, #c4a484, #b8956f);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px rgba(196, 164, 132, 0.3);
            font-weight: 600;
            font-family: 'Georgia', serif;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(196, 164, 132, 0.4);
            background: linear-gradient(145deg, #b8956f, #c4a484);
        }
        
        button:active {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(196, 164, 132, 0.3);
        }
        
        button:disabled {
            background: #e8d5cc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .message {
            text-align: center;
            margin: 25px 0;
            font-weight: 600;
            min-height: 30px;
            color: #7d6658;
            font-size: 1.2rem;
            padding: 12px 20px;
            border-radius: 12px;
            background: rgba(248, 245, 242, 0.8);
            border: 2px solid rgba(196, 164, 132, 0.2);
        }
        
        .message.success {
            background: linear-gradient(145deg, rgba(196, 164, 132, 0.1), rgba(184, 149, 111, 0.1));
            color: #c4a484;
            border-color: #c4a484;
            animation: successPulse 1s ease;
        }
        
        .message.error {
            background: linear-gradient(145deg, rgba(184, 149, 111, 0.15), rgba(166, 134, 96, 0.1));
            color: #b8956f;
            border-color: #b8956f;
            animation: errorShake 0.5s ease;
        }
        
        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        @keyframes errorShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-4px); }
            75% { transform: translateX(4px); }
        }
        
        .attempts {
            text-align: center;
            margin: 20px auto 0;
            font-size: 1.1rem;
            color: #7d6658;
            font-weight: 600;
            padding: 10px 20px;
            background: rgba(248, 245, 242, 0.9);
            border-radius: 25px;
            display: block;
            width: fit-content;
            min-width: 180px;
            border: 2px solid rgba(232, 213, 204, 0.5);
        }
        
        .level-content {
            display: none;
            text-align: center;
            margin: 30px 0;
            padding: 25px;
            background: rgba(252, 250, 248, 0.95);
            border-radius: 20px;
            border: 2px solid rgba(212, 184, 150, 0.3);
        }
        
        .level-content.active {
            display: block;
            animation: levelReveal 1s ease;
        }
        
        @keyframes levelReveal {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .level-image {
            width: auto;
            max-width: 100%;
            height: auto;
            max-height: 400px;
            border-radius: 20px;
            object-fit: cover;
            margin: 20px auto;
            border: 4px solid #d4b896;
            box-shadow: 0 10px 30px rgba(125, 102, 88, 0.3);
            display: block;
        }
        
        .level-message {
            background: linear-gradient(145deg, #fcfaf8, #f0e8e0);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            line-height: 1.8;
            font-size: 1.1rem;
            color: #7d6658;
            border: 2px solid rgba(196, 164, 132, 0.2);
            font-style: italic;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(232, 213, 204, 0.5);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #c4a484, #d4b896);
            border-radius: 4px;
            transition: width 0.8s ease;
        }
        
        .level-header {
            margin-bottom: 25px;
            text-align: center;
        }
        
        .level-title {
            font-size: 2rem;
            color: #c4a484;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .level-subtitle {
            font-size: 1.1rem;
            color: #7d6658;
            font-style: italic;
        }
        
        .keyboard {
            margin: 25px auto 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            width: 100%;
            max-width: 500px;
        }
        
        .keyboard-row {
            display: flex;
            gap: 6px;
            justify-content: center;
            width: 100%;
        }
        
        .key {
            width: 40px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(145deg, #f0e8e0, #e8d5cc);
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            font-size: 14px;
            color: #7d6658;
            transition: all 0.2s ease;
            border: 2px solid rgba(125, 102, 88, 0.1);
            font-family: 'Georgia', serif;
            touch-action: manipulation;
            flex-shrink: 0;
        }
        
        .key:hover, .key:active {
            background: linear-gradient(145deg, #e8d5cc, #d4c4a8);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(125, 102, 88, 0.2);
        }
        
        .key.used-correct {
            background: linear-gradient(145deg, #c4a484, #b8956f);
            color: white;
        }
        
        .key.used-present {
            background: linear-gradient(145deg, #d4b896, #e8c7a6);
            color: white;
        }
        
        .key.used-absent {
            background: linear-gradient(145deg, #b8956f, #a68660);
            color: white;
            opacity: 0.7;
        }
        
        .key.backspace, .key.delete {
            width: 52px;
            font-size: 10px;
            padding: 0 2px;
        }
        
        .key.enter {
            width: 52px;
            font-size: 10px;
            padding: 0 2px;
        }
        
        .next-level-btn {
            margin-top: 30px;
            padding: 18px 35px;
            font-size: 1.2rem;
            background: linear-gradient(145deg, #d4b896, #e8c7a6);
            border: none;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(212, 184, 150, 0.3);
        }
        
        .next-level-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(212, 184, 150, 0.4);
        }

        /* Video section styles */
        .video-section {
            display: none;
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: rgba(252, 250, 248, 0.95);
            border-radius: 20px;
            border: 2px solid rgba(212, 184, 150, 0.3);
        }

        .video-section.active {
            display: block;
            animation: levelReveal 1s ease;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(125, 102, 88, 0.3);
        }

        .wedding-video {
            width: 100%;
            height: auto;
            display: block;
        }

        .video-title {
            font-size: 1.8rem;
            color: #c4a484;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .video-message {
            background: linear-gradient(145deg, #fcfaf8, #f0e8e0);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            line-height: 1.8;
            font-size: 1.1rem;
            color: #7d6658;
            border: 2px solid rgba(196, 164, 132, 0.2);
            font-style: italic;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #c4a484;
            font-size: 1rem;
            font-style: italic;
            opacity: 0.8;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                max-width: 95%;
                padding: 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 2rem;
                letter-spacing: 1px;
            }
            
            .subtitle {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            
            .decorative-elements {
                font-size: 2rem;
                margin: 15px 0;
                letter-spacing: 8px;
            }
            
            .letter-box, .guess-box {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .keyboard {
                max-width: 95%;
            }
            
            .key {
                width: 32px;
                height: 40px;
                font-size: 12px;
            }
            
            .key.backspace, .key.delete {
                width: 42px;
                font-size: 8px;
                padding: 0 1px;
            }
            
            .key.enter {
                width: 42px;
                font-size: 8px;
                padding: 0 1px;
            }
            
            .keyboard-row {
                gap: 4px;
            }
            
            .instructions {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            
            .message {
                font-size: 1rem;
                padding: 10px 15px;
                margin: 20px 0;
                line-height: 1.4;
            }
            
            .level-title {
                font-size: 1.6rem;
                margin-bottom: 8px;
            }
            
            .level-subtitle {
                font-size: 1rem;
            }
            
            .level-message {
                padding: 15px;
                margin: 15px 0;
                line-height: 1.6;
                font-size: 0.95rem;
            }
            
            .video-message {
                padding: 15px;
                margin: 15px 0;
                line-height: 1.6;
                font-size: 0.95rem;
            }
            
            .level-image {
                height: auto;
                max-height: 200px;
                margin: 15px auto;
            }
            
            .attempts {
                font-size: 1rem;
                padding: 8px 15px;
                margin-top: 15px;
            }
            
            button {
                padding: 14px 25px;
                font-size: 1rem;
            }
            
            .next-level-btn {
                padding: 15px 30px;
                font-size: 1.1rem;
                margin-top: 20px;
            }
            
            .wordle-game, .login-game {
                padding: 20px;
            }
            
            .level-content {
                padding: 20px;
                margin: 20px 0;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                margin: 5px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .letter-box, .guess-box {
                width: 35px;
                height: 35px;
                font-size: 1.1rem;
            }
            
            .keyboard {
                max-width: 90%;
            }
            
            .key {
                width: 28px;
                height: 36px;
                font-size: 11px;
            }
            
            .key.backspace, .key.delete {
                width: 36px;
                font-size: 7px;
                padding: 0 1px;
            }
            
            .key.enter {
                width: 36px;
                font-size: 7px;
                padding: 0 1px;
            }
            
            .keyboard-row {
                gap: 3px;
            }
            
            .instructions {
                font-size: 0.9rem;
            }
            
            .message {
                font-size: 0.9rem;
                padding: 8px 12px;
                line-height: 1.3;
            }
            
            .level-title {
                font-size: 1.4rem;
            }
            
            .level-subtitle {
                font-size: 0.9rem;
            }
            
            .level-message {
                padding: 12px;
                font-size: 0.85rem;
                line-height: 1.5;
            }
            
            .video-message {
                padding: 12px;
                font-size: 0.85rem;
                line-height: 1.5;
            }
            
            .level-image {
                height: auto;
                max-height: 180px;
            }
            
            .wordle-game, .login-game {
                padding: 15px;
            }
            
            .level-content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating flowers background -->
    <div class="floating-flowers" id="floating-flowers"></div>
    
    <div class="container">
        <!-- Login Page - Simple word guess without grid -->
        <div class="page active" id="login-page">
            <div class="header">
                <h1>Login</h1>
                <div class="decorative-elements">🌸 ♡ 🌸</div>
                <p class="subtitle">Guess the magic word to enter our love story</p>
            </div>
            
            <div class="login-game">
                <p class="instructions">Guess the 7-letter word to unlock your journey</p>
                
                <div class="input-area">
                    <div class="current-guess" id="login-current-guess">
                        <!-- Current guess boxes will be generated by JavaScript -->
                    </div>
                    <button id="login-btn">Submit</button>
                </div>
                
                <div class="keyboard" id="login-keyboard">
                    <!-- Keyboard will be generated by JavaScript -->
                </div>
                
                <p class="message" id="login-message">Think of something that binds two hearts...</p>
                <p class="attempts" id="login-attempts">Attempts: 0/6</p>
            </div>
        </div>
        
        <!-- Game Levels Page - With Wordle grids -->
        <div class="page" id="levels-page">
            <div class="header">
                <h1>Your Love Journey</h1>
                <div class="decorative-elements">🌸 ♡ 🌸</div>
                <p class="subtitle">Discover the milestones of our relationship</p>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
            
            <!-- Level Header -->
            <div class="level-header">
                <h2 class="level-title" id="level-title">Level 1: First Meeting</h2>
                <p class="level-subtitle" id="level-subtitle">Where did our story begin?</p>
            </div>
            
            <div class="wordle-game">
                <p class="instructions" id="level-instructions">Guess the 5-letter word</p>
                
                <div class="wordle-grid grid-5" id="level-grid">
                    <!-- Grid will be generated by JavaScript -->
                </div>
                
                <div class="input-area">
                    <div class="current-guess" id="level-current-guess">
                        <!-- Current guess boxes will be generated by JavaScript -->
                    </div>
                    <button id="level-btn">Submit</button>
                </div>
                
                <p class="message" id="level-message">Hint: A place where people gather for drinks...</p>
                <p class="attempts" id="level-attempts">Attempts: 0/6</p>
                
                <div class="keyboard" id="level-keyboard">
                    <!-- Keyboard will be generated by JavaScript -->
                </div>
            </div>
            
            <div class="level-content" id="level-content">
                <img id="level-image" class="level-image" src="" alt="Level Image">
                <div class="level-message" id="level-story"></div>
                <button class="next-level-btn" id="next-level-btn">Continue Journey</button>
            </div>

            <!-- Video Section -->
            <div class="video-section" id="video-section">
                <h3 class="video-title">Our Wedding Video</h3>
                <div class="video-container">
                    <!-- Your wedding video -->
                    <video class="wedding-video" controls preload="metadata">
                        <source src="assets/videos/Video1.mp4" type="video/mp4">
                        <p>Your browser does not support the video tag.</p>
                    </video>
                </div>
                <div class="video-message">
                    <!-- EDIT HERE: Customize your video message -->
                    <p>Thank you for joining us on this incredible journey! This video captures the most precious moments of our special day. We hope you enjoyed discovering our love story through this interactive experience.</p>
                    <br>
                    <p>From the bottom of our hearts, thank you for being part of our celebration of love.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Crafted By Master Emman</p>
        </footer>
    </div>

    <script>
        // EDIT THESE SECTIONS TO CUSTOMIZE YOUR GAME
        
        // Game Configuration
        const LOGIN_WORD = "WEDDING"; // EDIT: Change the login word (7 letters)
        
        const LEVELS = [
            // EDIT: Customize each level with your own story
            {
                word: "BEACH", // 5-letter word for holding hands at the beach
                title: "Level 1: Seaside Romance", // EDIT: Level title
                subtitle: "Where your love flows like the ocean waves", // EDIT: Level subtitle
                hint: "Where sand meets sea and you held hands...", // EDIT: Hint text
                image: "assets/images/Image1.jpg", // Them holding hands at the beach
                story: "The golden sand beneath your feet, the endless horizon stretching before you, and your fingers intertwined - this moment captured the pure joy of finding your forever person. As the waves whispered their eternal song, your hearts beat in perfect rhythm, knowing this was just the beginning of your beautiful journey together." // EDIT: Your story
            },
            {
                word: "QUEEN", // 5-letter word for Statue of Liberty (Lady Liberty/Queen of NY)
                title: "Level 2: New York Adventure", // EDIT: Title
                subtitle: "Standing tall together in the city of dreams", // EDIT: Subtitle
                hint: "What Lady Liberty represents, and what you are to each other...", // EDIT: Hint
                image: "assets/images/Image2.jpg", // Their selfie at Statue of Liberty
                story: "In the shadow of Lady Liberty, you captured more than just a selfie - you captured a moment of pure adventure and freedom. Standing together in New York, the city that never sleeps, you both knew that no matter where life takes you, you'll always be each other's greatest adventure and home." // EDIT: Story
            },
            {
                word: "KAYAK", // 5-letter word for their kayaking adventure
                title: "Level 3: Paddling Together", // EDIT: Title
                subtitle: "Navigating life's waters side by side", // EDIT: Subtitle
                hint: "The small boat that carried you on your water adventure...", // EDIT: Hint
                image: "assets/images/Image3.jpg", // Them in the kayak
                story: "Gliding across the calm waters, paddles moving in sync, you discovered that teamwork makes everything better - even when you're both still figuring out which way to steer! This adventure taught you that with the right person beside you, even the choppiest waters become an exciting journey worth taking together." // EDIT: Story
            },
            {
                word: "SWIFT", // 5-letter word for Taylor Swift concert
                title: "Level 4: Concert Magic", // EDIT: Title
                subtitle: "Dancing to the soundtrack of your love", // EDIT: Subtitle
                hint: "The last name of the pop star whose concert you attended...", // EDIT: Hint
                image: "assets/images/Image4.jpg", // Their photo at Taylor Swift concert
                story: "Under the bright stage lights, surrounded by thousands of voices singing in unison, you found yourselves in your own little world. Dancing and singing along to every song, you realized that your love story was just as magical as any love song - and this night would become one of your favorite chapters." // EDIT: Story
            },
            {
                word: "WHEEL", // 5-letter word for ferris wheel
                title: "Level 5: Sky High Love", // EDIT: Title
                subtitle: "Rising above the world together", // EDIT: Subtitle
                hint: "The giant circular ride that lifted you high into the night sky...", // EDIT: Hint
                image: "assets/images/Image5.jpg", // Them looking at ferris wheel at night
                story: "As the ferris wheel painted colorful patterns against the starlit sky, you stood there in peaceful silence, backs to the world, looking forward to your future together. In that quiet moment, with the city lights twinkling below, you both knew that your love had lifted you higher than any ride ever could." // EDIT: Story
            }
        ];

        // Game State
        let currentPage = 'login';
        let currentLevel = 0;
        let currentRow = 0;
        let loginAttempts = 0;
        let levelAttempts = 0;
        let gameOver = false;
        let levelGameOver = false;
        let currentGuess = '';
        const MAX_ATTEMPTS = 6;

        // DOM Elements
        const loginPage = document.getElementById('login-page');
        const levelsPage = document.getElementById('levels-page');
        const floatingFlowers = document.getElementById('floating-flowers');
        
        // Login elements
        const loginBtn = document.getElementById('login-btn');
        const loginMessage = document.getElementById('login-message');
        const loginAttemptsEl = document.getElementById('login-attempts');
        
        // Level elements
        const levelTitle = document.getElementById('level-title');
        const levelSubtitle = document.getElementById('level-subtitle');
        const levelInstructions = document.getElementById('level-instructions');
        const levelGrid = document.getElementById('level-grid');
        const levelBtn = document.getElementById('level-btn');
        const levelMessage = document.getElementById('level-message');
        const levelAttemptsEl = document.getElementById('level-attempts');
        const levelKeyboard = document.getElementById('level-keyboard');
        const levelContent = document.getElementById('level-content');
        const levelImage = document.getElementById('level-image');
        const levelStory = document.getElementById('level-story');
        const nextLevelBtn = document.getElementById('next-level-btn');
        const progressFill = document.getElementById('progress-fill');
        const videoSection = document.getElementById('video-section');

        // Initialize the game
        document.addEventListener('DOMContentLoaded', () => {
            initFloatingFlowers();
            initLoginPage();
        });

        // Create floating flowers
        function initFloatingFlowers() {
            const flowerTypes = ['🌸', '🌺', '🌻', '🌷', '🌹', '🌼'];
            
            function createFlower() {
                const flower = document.createElement('div');
                flower.classList.add('floating-flower');
                flower.innerHTML = flowerTypes[Math.floor(Math.random() * flowerTypes.length)];
                flower.style.left = Math.random() * 100 + '%';
                flower.style.animationDuration = (Math.random() * 4 + 10) + 's';
                flower.style.animationDelay = Math.random() * 2 + 's';
                floatingFlowers.appendChild(flower);
                
                setTimeout(() => {
                    if (flower.parentNode) {
                        flower.parentNode.removeChild(flower);
                    }
                }, 17000);
            }
            
            setInterval(createFlower, 3000);
        }

        // Initialize login page
        function initLoginPage() {
            createLoginGuessBoxes();
            createLoginKeyboard();
            
            loginBtn.addEventListener('click', handleLoginSubmit);
        }

        // Create login guess boxes
        function createLoginGuessBoxes() {
            const container = document.getElementById('login-current-guess');
            container.innerHTML = '';
            
            for (let i = 0; i < 7; i++) {
                const box = document.createElement('div');
                box.className = 'guess-box';
                box.id = `login-guess-${i}`;
                container.appendChild(box);
            }
        }

        // Create login keyboard
        function createLoginKeyboard() {
            const rows = [
                ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'],
                ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'],
                ['ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', 'DELETE']
            ];
            
            const keyboard = document.getElementById('login-keyboard');
            keyboard.innerHTML = '';
            
            rows.forEach(row => {
                const rowEl = document.createElement('div');
                rowEl.className = 'keyboard-row';
                
                row.forEach(key => {
                    const keyEl = document.createElement('div');
                    keyEl.className = `key ${key.length > 1 ? key.toLowerCase() : ''}`;
                    keyEl.textContent = key;
                    keyEl.addEventListener('click', () => handleLoginKeyClick(key));
                    rowEl.appendChild(keyEl);
                });
                
                keyboard.appendChild(rowEl);
            });
        }

        // Handle login key clicks
        function handleLoginKeyClick(key) {
            if (gameOver) return;
            
            if (key === 'ENTER') {
                handleLoginSubmit();
            } else if (key === 'DELETE') {
                if (currentGuess.length > 0) {
                    currentGuess = currentGuess.slice(0, -1);
                    updateLoginDisplay();
                }
            } else if (key.length === 1 && currentGuess.length < 7) {
                currentGuess += key;
                updateLoginDisplay();
            }
        }

        // Update login display
        function updateLoginDisplay() {
            for (let i = 0; i < 7; i++) {
                const box = document.getElementById(`login-guess-${i}`);
                if (i < currentGuess.length) {
                    box.textContent = currentGuess[i];
                    box.classList.add('filled');
                } else {
                    box.textContent = '';
                    box.classList.remove('filled');
                }
            }
        }

        // Handle login submission
        function handleLoginSubmit() {
            if (gameOver) return;
            
            if (currentGuess.length !== 7) {
                showLoginMessage('Please enter a 7-letter word!', 'error');
                return;
            }
            
            loginAttempts++;
            updateLoginAttempts();
            
            if (currentGuess === LOGIN_WORD) {
                showLoginMessage('Welcome to our love story! 💕', 'success');
                setTimeout(() => {
                    switchToLevelsPage();
                }, 2000);
            } else {
                if (loginAttempts >= MAX_ATTEMPTS) {
                    showLoginMessage(`Game over! The word was "${LOGIN_WORD}"`, 'error');
                    gameOver = true;
                    loginBtn.disabled = true;
                } else {
                    showLoginMessage(`Try again! ${MAX_ATTEMPTS - loginAttempts} attempts left.`, 'error');
                }
            }
            
            currentGuess = '';
            updateLoginDisplay();
        }

        // Show login message
        function showLoginMessage(text, type = '') {
            loginMessage.textContent = text;
            loginMessage.className = `message ${type}`;
        }

        // Update login attempts
        function updateLoginAttempts() {
            loginAttemptsEl.textContent = `Attempts: ${loginAttempts}/${MAX_ATTEMPTS}`;
        }

        // Switch to levels page
        function switchToLevelsPage() {
            loginPage.classList.remove('active');
            levelsPage.classList.add('active');
            currentPage = 'levels';
            currentGuess = ''; // Reset guess for levels
            initLevelsPage();
        }

        // Initialize levels page
        function initLevelsPage() {
            initCurrentLevel();
            
            levelBtn.addEventListener('click', handleLevelSubmit);
            nextLevelBtn.addEventListener('click', goToNextLevel);
        }

        // Initialize current level
        function initCurrentLevel() {
            if (currentLevel >= LEVELS.length) {
                showVideoSection();
                return;
            }
            
            const level = LEVELS[currentLevel];
            levelGameOver = false;
            levelAttempts = 0;
            currentRow = 0;
            currentGuess = '';
            
            // Update UI
            levelTitle.textContent = level.title;
            levelSubtitle.textContent = level.subtitle;
            levelMessage.textContent = `Hint: ${level.hint}`;
            levelMessage.className = 'message';
            updateLevelAttempts();
            updateProgress();
            
            // Reset button
            levelBtn.disabled = false;
            
            // Hide level content
            levelContent.classList.remove('active');
            
            // Create interface
            createLevelGuessBoxes();
            createLevelGrid();
            createLevelKeyboard();
        }

        // Create level guess boxes
        function createLevelGuessBoxes() {
            const level = LEVELS[currentLevel];
            const container = document.getElementById('level-current-guess');
            container.innerHTML = '';
            
            for (let i = 0; i < level.word.length; i++) {
                const box = document.createElement('div');
                box.className = 'guess-box';
                box.id = `level-guess-${i}`;
                container.appendChild(box);
            }
        }

        // Create level keyboard
        function createLevelKeyboard() {
            const rows = [
                ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'],
                ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'],
                ['ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', 'DELETE']
            ];
            
            levelKeyboard.innerHTML = '';
            
            rows.forEach(row => {
                const rowEl = document.createElement('div');
                rowEl.className = 'keyboard-row';
                
                row.forEach(key => {
                    const keyEl = document.createElement('div');
                    keyEl.className = `key ${key.length > 1 ? key.toLowerCase() : ''}`;
                    keyEl.textContent = key;
                    keyEl.id = key.length === 1 ? `key-${key}` : `key-${key.toLowerCase()}`;
                    keyEl.addEventListener('click', () => handleLevelKeyClick(key));
                    rowEl.appendChild(keyEl);
                });
                
                levelKeyboard.appendChild(rowEl);
            });
        }

        // Handle level key clicks
        function handleLevelKeyClick(key) {
            if (levelGameOver) return;
            
            const level = LEVELS[currentLevel];
            
            if (key === 'ENTER') {
                handleLevelSubmit();
            } else if (key === 'DELETE') {
                if (currentGuess.length > 0) {
                    currentGuess = currentGuess.slice(0, -1);
                    updateLevelDisplay();
                }
            } else if (key.length === 1 && currentGuess.length < level.word.length) {
                currentGuess += key;
                updateLevelDisplay();
            }
        }

        // Update level display
        function updateLevelDisplay() {
            const level = LEVELS[currentLevel];
            for (let i = 0; i < level.word.length; i++) {
                const box = document.getElementById(`level-guess-${i}`);
                if (i < currentGuess.length) {
                    box.textContent = currentGuess[i];
                    box.classList.add('filled');
                } else {
                    box.textContent = '';
                    box.classList.remove('filled');
                }
            }
        }

        // Handle level submission
        function handleLevelSubmit() {
            if (levelGameOver) return;
            
            const level = LEVELS[currentLevel];
            
            if (currentGuess.length !== level.word.length) {
                showLevelMessage(`Please enter a ${level.word.length}-letter word!`, 'error');
                return;
            }
            
            // Update grid with guess
            updateGridRow(currentGuess, level.word, currentRow);
            
            levelAttempts++;
            currentRow++;
            updateLevelAttempts();
            
            if (currentGuess === level.word) {
                showLevelMessage('Correct! You unlocked this memory! 💕', 'success');
                levelGameOver = true;
                levelBtn.disabled = true;
                setTimeout(() => {
                    showLevelContent();
                }, 1500);
            } else {
                if (levelAttempts >= MAX_ATTEMPTS) {
                    showLevelMessage(`The word was "${level.word}". Let's continue the journey anyway! 💕`, 'error');
                    levelGameOver = true;
                    levelBtn.disabled = true;
                    setTimeout(() => {
                        showLevelContent();
                    }, 2000);
                } else {
                    showLevelMessage(`Try again! ${MAX_ATTEMPTS - levelAttempts} attempts left.`, 'error');
                }
            }
            
            currentGuess = '';
            updateLevelDisplay();
        }

        // Create level grid
        function createLevelGrid() {
            const level = LEVELS[currentLevel];
            const wordLength = level.word.length;
            
            levelGrid.innerHTML = '';
            levelGrid.className = `wordle-grid grid-${wordLength}`;
            
            // Create 6 rows for attempts
            for (let row = 0; row < MAX_ATTEMPTS; row++) {
                for (let col = 0; col < wordLength; col++) {
                    const box = document.createElement('div');
                    box.className = 'letter-box';
                    box.id = `box-${row}-${col}`;
                    levelGrid.appendChild(box);
                }
            }
        }

        // Update grid row with guess
        function updateGridRow(guess, target, row) {
            const wordLength = target.length;
            
            // Create arrays to track letter usage
            let targetLetters = target.split('');
            let letterStates = new Array(wordLength).fill('absent');
            
            // First pass: mark correct letters
            for (let i = 0; i < wordLength; i++) {
                if (guess[i] === target[i]) {
                    letterStates[i] = 'correct';
                    targetLetters[i] = null; // Mark as used
                }
            }
            
            // Second pass: mark present letters
            for (let i = 0; i < wordLength; i++) {
                if (letterStates[i] !== 'correct') {
                    const letterIndex = targetLetters.indexOf(guess[i]);
                    if (letterIndex !== -1) {
                        letterStates[i] = 'present';
                        targetLetters[letterIndex] = null; // Mark as used
                    }
                }
            }
            
            // Update boxes and keyboard
            for (let i = 0; i < wordLength; i++) {
                const box = document.getElementById(`box-${row}-${i}`);
                const key = document.getElementById(`key-${guess[i]}`);
                
                box.textContent = guess[i];
                box.classList.add('filled');
                
                setTimeout(() => {
                    box.classList.add(letterStates[i]);
                    
                    // Update keyboard key color (only if it's a better state)
                    if (key) {
                        if (letterStates[i] === 'correct') {
                            key.className = 'key used-correct';
                        } else if (letterStates[i] === 'present' && !key.classList.contains('used-correct')) {
                            key.className = 'key used-present';
                        } else if (letterStates[i] === 'absent' && !key.classList.contains('used-correct') && !key.classList.contains('used-present')) {
                            key.className = 'key used-absent';
                        }
                    }
                }, i * 100);
            }
        }

        // Show level message
        function showLevelMessage(text, type = '') {
            levelMessage.textContent = text;
            levelMessage.className = `message ${type}`;
        }

        // Update level attempts
        function updateLevelAttempts() {
            levelAttemptsEl.textContent = `Attempts: ${levelAttempts}/${MAX_ATTEMPTS}`;
        }

        // Update progress bar
        function updateProgress() {
            const progress = (currentLevel / LEVELS.length) * 100;
            progressFill.style.width = progress + '%';
        }

        // Show level content (story and image)
        function showLevelContent() {
            const level = LEVELS[currentLevel];
            
            levelImage.src = level.image;
            levelImage.alt = level.title;
            levelStory.textContent = level.story;
            
            levelContent.classList.add('active');
        }

        // Go to next level
        function goToNextLevel() {
            currentLevel++;
            
            if (currentLevel >= LEVELS.length) {
                showVideoSection();
            } else {
                initCurrentLevel();
            }
        }

        // Show video section
        function showVideoSection() {
            // Hide level content and game
            levelContent.classList.remove('active');
            document.querySelector('.wordle-game').style.display = 'none';
            document.querySelector('.level-header').style.display = 'none';
            
            // Update progress to 100%
            progressFill.style.width = '100%';
            
            // Show video section
            videoSection.classList.add('active');
        }

        // Keyboard support for the entire page
        document.addEventListener('keydown', (e) => {
            // Prevent default behavior for control keys
            if (e.ctrlKey || e.altKey || e.metaKey) {
                return;
            }
            
            if (currentPage === 'login' && !gameOver) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    handleLoginSubmit();
                } else if (e.key === 'Backspace') {
                    e.preventDefault();
                    if (currentGuess.length > 0) {
                        currentGuess = currentGuess.slice(0, -1);
                        updateLoginDisplay();
                    }
                } else if (e.key.length === 1 && /[a-zA-Z]/.test(e.key)) {
                    e.preventDefault();
                    if (currentGuess.length < 7) {
                        currentGuess += e.key.toUpperCase();
                        updateLoginDisplay();
                    }
                }
            } else if (currentPage === 'levels' && !levelGameOver) {
                const level = LEVELS[currentLevel];
                if (e.key === 'Enter') {
                    e.preventDefault();
                    handleLevelSubmit();
                } else if (e.key === 'Backspace') {
                    e.preventDefault();
                    if (currentGuess.length > 0) {
                        currentGuess = currentGuess.slice(0, -1);
                        updateLevelDisplay();
                    }
                } else if (e.key.length === 1 && /[a-zA-Z]/.test(e.key)) {
                    e.preventDefault();
                    if (currentGuess.length < level.word.length) {
                        currentGuess += e.key.toUpperCase();
                        updateLevelDisplay();
                    }
                }
            }
        });
    </script>
</body>
</html>
